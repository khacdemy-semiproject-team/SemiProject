<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.twogap.project.member.model.mapper.MemberMapper">

	<select id="memberNoList">
		SELECT MEMBER_NO FROM "MEMBER"
		WHERE NOT MEMBER_NO = #{memberNo}
		AND MEMBER_DEL_FL = 'N'
	</select>
	
	<!-- 현재 비밀번호가 일치하는지 확인 -->
	<select id="selectPw">
		SELECT MEMBER_PW FROM "MEMBER"
		WHERE MEMBER_NO = #{memberNo}
	</select>
	
	
	<!-- 개인 정보 수정 -->
	<update id="privacyInfoUpdate">
		UPDATE "MEMBER" SET
			
			MEMBER_EMAIL = #{memberEmail},
			MEMBER_ADRESS = #{memberAdress}, 
			MEMBER_TEL = #{memberTel},
			MEMBER_HOME_TEL = #{memberHomeTel}
			
		WHERE MEMBER_NO = #{memberNo}
	</update>
	
	<!-- 새 비밀번호로 변경 -->
	<update id="changePw">
		UPDATE "MEMBER" SET
		MEMBER_PW = #{encPw}
		WHERE MEMBER_NO = #{memberNo}
	</update>
	
	
	<select id="getHostNickname">
		SELECT MEMBER_NICKNAME
		FROM "MEMBER"
		WHERE MEMBER_NO = #{memberNo}
	</select>
	
	<select id="checkDelFl">
		SELECT COUNT(*) FROM "MEMBER"
		WHERE MEMBER_DEL_FL = 'N'
		AND MEMBER_NO = #{uid}
	</select>
	
</mapper>
